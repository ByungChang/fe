(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cedbb"],{"60f1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("companyAdd"),n("userDetail"),n("ConfirmSnackBar"),n("v-card-title",[e._v("\n     기업 관리\n     "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"검색어입력","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-card-title",[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{dark:""},on:{click:function(t){return e.btnClick("add")}}},[e._v("기업 추가")])],1)],1),n("v-data-table",{staticClass:"font-weight-bold",attrs:{search:e.search,headers:e.headers,items:e.companies,"hide-default-footer":"","items-per-page":3,page:e.page},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"item.img",fn:function(t){var i=t.item;return[e.x>600?n("v-avatar",{staticClass:"ma-3",attrs:{size:"100"}},[n("v-img",{attrs:{src:a("1771")("./"+i.src)}})],1):n("v-avatar",{attrs:{size:"40"}},[n("v-img",{attrs:{src:a("1771")("./"+i.src)}})],1)]}},{key:"item.name",fn:function(t){var a=t.item;return[n("v-list-item",{staticStyle:{"text-align":"left"},attrs:{to:e.to}},[e._v(e._s(a.name))])]}},{key:"item.status",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{color:e.getColor(a.status)},on:{click:function(t){return e.statusChange(a)}}},[e._v(e._s(a.status))])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.userDetail(a)}}},[n("v-icon",[e._v("mdi-information-outline")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.btnClick("edit"),e.editTable(a)}}},[n("v-icon",[e._v("mdi-square-edit-outline")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteComment(a)}}},[n("v-icon",[e._v("mdi-trash-can-outline")])],1)]}}])}),n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.pageCount,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)},i=[],s=a("bc3a"),o=a.n(s),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-dialog",{attrs:{scrollable:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("AlertSnackBar"),a("v-card",[a("v-app-bar",{attrs:{dark:"",color:"blue-grey"}},[a("v-card-title",[a("span",[e._v(e._s(e.formTitle))])]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""}},[a("v-icon",{attrs:{size:"30px"},on:{click:e.modalClose}},[e._v("mdi-close")])],1)],1),a("v-card-text",[a("v-divider"),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{counter:20,rules:e.nameRules,label:"기업명*","prepend-inner-icon":"mdi-account-check",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.actitems,label:"활성화 여부*","prepend-inner-icon":"mdi-lock"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{counter:20,rules:e.emailRules,label:"이메일*","prepend-inner-icon":"mdi-email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("HyperVisonSelect"),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{counter:20,rules:e.businessRules,label:"사업자번호*","prepend-inner-icon":"mdi-domain",required:""},model:{value:e.business,callback:function(t){e.business=t},expression:"business"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":10,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"만료일",rules:e.dateRules,readonly:e.readonly,"prepend-inner-icon":"mdi-calendar"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{locale:"ko"},on:{input:function(t){e.menu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{rules:e.imgRules,accept:"image/png, image/jpeg, image/bmp",placeholder:"사진 추가","prepend-inner-icon":"mdi-camera","prepend-icon":"",label:"사진"},model:{value:e.picture,callback:function(t){e.picture=t},expression:"picture"}})],1),a("v-spacer")],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.valid,color:"success"},on:{click:e.saveClick}},[e._v("\n        저장\n        ")]),a("v-btn",{attrs:{color:"error"},on:{click:e.modalClose}},[e._v("\n        닫기\n        ")])],1)],1)],1)],1)},r=[],l=a("a27f"),u=a("12a2"),d=a("8ee7"),m={components:{AlertSnackBar:u["a"],HyperVisonSelect:d["a"]},data:function(){return{readonly:!0,formTitle:"",menu:!1,dialog:!1,valid:!0,status:"",picture:null,name:"",email:"",date:"",business:"",nameRules:[function(e){return!!e||"기업명을 입력해주세요"},function(e){return e&&e.length<=20||"20글자 초과 하실 수 없습니다."}],emailRules:[function(e){return!!e||"E-mail을 입력해주세요"},function(e){return/.+@.+\..+/.test(e)||"잘못된 형식의 이메일 입니다"},function(e){return e&&e.length<=20||"20글자 초과 하실 수 없습니다."}],imgRules:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],dateRules:[function(e){return!!e||"만료일을 입력해주세요"}],businessRules:[function(e){return!!e||"사업자번호를 입력해주세요"},function(e){return e&&e.length<=20||"20글자 초과 하실 수 없습니다."}],actitems:["active","block"]}},mounted:function(){var e=this;l["a"].$on("companyAdd",(function(t){"add"===t&&(e.formTitle="기업 추가"),"edit"===t&&(e.formTitle="기업 정보 수정"),e.dialog=!0})),l["a"].$on("comEditInfo",(function(t){e.name=t.comName,e.status=t.status,e.endDay=t.endDay}))},methods:{saveClick:function(){l["a"].$emit("SaveItem","company")},modalClose:function(){this.dialog=!1,this.$refs.form.resetValidation(),this.status="",this.picture=null,this.name="",this.email="",this.date="",this.business="",l["a"].$emit("HyperVisonClean",!0)}}},p=m,v=a("2877"),f=a("6544"),b=a.n(f),g=a("40dc"),h=a("8336"),k=a("b0af"),x=a("99d9"),V=a("62ad"),C=a("2e4b"),y=a("169a"),_=a("ce7e6"),D=a("23a7"),S=a("4bd4"),w=a("132d"),N=a("e449"),R=a("b974"),T=a("2fa4"),$=a("8654"),A=Object(v["a"])(p,c,r,!1,null,null,null),E=A.exports;b()(A,{VAppBar:g["a"],VBtn:h["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VCol:V["a"],VDatePicker:C["a"],VDialog:y["a"],VDivider:_["a"],VFileInput:D["a"],VForm:S["a"],VIcon:w["a"],VMenu:N["a"],VSelect:R["a"],VSpacer:T["a"],VTextField:$["a"]});var B=a("6688"),I=a("b536"),z={components:{companyAdd:E,userDetail:B["a"],ConfirmSnackBar:I["default"]},data:function(){return{to:{path:"/userManagement"},x:window.innerWidth,search:"",page:1,pageCount:0,headers:[{text:"프로필사진",align:"center",value:"img",sortable:!1},{text:"회사",value:"name",align:"center"},{text:"상태",value:"status",align:"center"},{text:"유저수",value:"userNum",align:"center"},{text:"HYPER VSN",value:"hvNum",align:"center"},{text:"계약 만료일",value:"expiredDate",align:"center"},{text:"정보보기/수정/삭제",value:"action",sortable:!1,align:"center"}],companies:[{src:"korea.png",name:"강동구",status:"active",userNum:20,hvNum:30,expiredDate:"2019-12-20",businessNum:48850703,comEmail:"la703@naver.com"},{src:"korea.png",name:"아디다스",status:"block",userNum:27,hvNum:8,expiredDate:"2020-03-20",businessNum:66473248,comEmail:"y3333@cosweal.com"},{src:"korea.png",name:"나이키",status:"block",userNum:27,hvNum:8,expiredDate:"2021-01-01",businessNum:25254546,comEmail:"gitt@gmail.com"}],number:-1}},mounted:function(){var e=this;o.a.get("/api/company",{}).then((function(t){console.log(t.data),console.log(t.data.companies.length);var a=0;for(a=0;a<t.data.companies.length;a++){var n=t.data.companies[a].expiredDate.substr(0,4),i=t.data.companies[a].expiredDate.substr(5,2),s=t.data.companies[a].expiredDate.substr(8,2);t.data.companies[a].expiredDate=n+"-"+i+"-"+s}e.companies=t.data.companies,console.log(e.companies)}))},methods:{btnStatus:function(){},getColor:function(e){return"active"==e?"green":"red"},btnClick:function(e){console.log(e),l["a"].$emit("companyAdd",e)},statusChange:function(e){this.number=this.companies.indexOf(e),"active"==this.companies[this.number].status?(console.log(this.companies[this.number].status),this.companies[this.number].status="block"):"block"==this.companies[this.number].status&&(this.companies[this.number].status="active")},editTable:function(e){l["a"].$emit("comEditInfo",e)},userDetail:function(e){l["a"].$emit("companyDetail",e)},deleteComment:function(e){l["a"].$emit("DelComment",e),console.log("emit됨")}}},j=z,q=a("8212"),F=a("8fea"),H=a("adda"),M=a("da13"),O=a("891e"),P=a("0fd9"),J=Object(v["a"])(j,n,i,!1,null,null,null);t["default"]=J.exports;b()(J,{VAvatar:q["a"],VBtn:h["a"],VCard:k["a"],VCardTitle:x["c"],VDataTable:F["a"],VIcon:w["a"],VImg:H["a"],VListItem:M["a"],VPagination:O["a"],VRow:P["a"],VSpacer:T["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-2d0cedbb.74c5a04a.js.map